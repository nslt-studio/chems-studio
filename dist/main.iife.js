(function(){"use strict";const I=new WeakMap;function V(e,t,n,i){if(!e&&!I.has(t))return!1;const o=I.get(t)??new WeakMap;I.set(t,o);const s=o.get(n)??new Set;o.set(n,s);const r=s.has(i);return e?s.add(i):s.delete(i),r&&e}function st(e,t){let n=e.target;if(n instanceof Text&&(n=n.parentElement),n instanceof Element&&e.currentTarget instanceof Node){const i=n.closest(t);if(i&&e.currentTarget.contains(i))return i}}function rt(e,t,n,i={}){const{signal:o,base:s=document}=i;if(o?.aborted)return;const{once:r,...a}=i,l=s instanceof Document?s.documentElement:s,u=!!(typeof i=="object"?i.capture:i),c=g=>{const v=st(g,String(e));if(v){const p=Object.assign(g,{delegateTarget:v});n.call(l,p),r&&(l.removeEventListener(t,c,a),V(!1,l,n,h))}},h=JSON.stringify({selector:e,type:t,capture:u});V(!0,l,n,h)||l.addEventListener(t,c,a),o?.addEventListener("abort",()=>{V(!1,l,n,h)})}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},d.apply(null,arguments)}const R=(e,t)=>String(e).toLowerCase().replace(/[\s/_.]+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+|-+$/g,"")||t||"",E=({hash:e}={})=>window.location.pathname+window.location.search+(e?window.location.hash:""),at=(e,t={})=>{const n=d({url:e=e||E({hash:!0}),random:Math.random(),source:"swup"},t);window.history.pushState(n,"",e)},C=(e=null,t={})=>{e=e||E({hash:!0});const n=d({},window.history.state||{},{url:e,random:Math.random(),source:"swup"},t);window.history.replaceState(n,"",e)},lt=(e,t,n,i)=>{const o=new AbortController;return i=d({},i,{signal:o.signal}),rt(e,t,n,i),{destroy:()=>o.abort()}};class m extends URL{constructor(t,n=document.baseURI){super(t.toString(),n),Object.setPrototypeOf(this,m.prototype)}get url(){return this.pathname+this.search}static fromElement(t){const n=t.getAttribute("href")||t.getAttribute("xlink:href")||"";return new m(n)}static fromUrl(t){return new m(t)}}class x extends Error{constructor(t,n){super(t),this.url=void 0,this.status=void 0,this.aborted=void 0,this.timedOut=void 0,this.name="FetchError",this.url=n.url,this.status=n.status,this.aborted=n.aborted||!1,this.timedOut=n.timedOut||!1}}async function ct(e,t={}){var n;e=m.fromUrl(e).url;const{visit:i=this.visit}=t,o=d({},this.options.requestHeaders,t.headers),s=(n=t.timeout)!=null?n:this.options.timeout,r=new AbortController,{signal:a}=r;t=d({},t,{headers:o,signal:a});let l,u=!1,c=null;s&&s>0&&(c=setTimeout(()=>{u=!0,r.abort("timeout")},s));try{l=await this.hooks.call("fetch:request",i,{url:e,options:t},(w,{url:b,options:S})=>fetch(b,S)),c&&clearTimeout(c)}catch(w){throw u?(this.hooks.call("fetch:timeout",i,{url:e}),new x(`Request timed out: ${e}`,{url:e,timedOut:u})):w?.name==="AbortError"||a.aborted?new x(`Request aborted: ${e}`,{url:e,aborted:!0}):w}const{status:h,url:f}=l,g=await l.text();if(h===500)throw this.hooks.call("fetch:error",i,{status:h,response:l,url:f}),new x(`Server error: ${f}`,{status:h,url:f});if(!g)throw new x(`Empty response: ${f}`,{status:h,url:f});const{url:v}=m.fromUrl(f),p={url:v,html:g};return!i.cache.write||t.method&&t.method!=="GET"||e!==v||this.cache.set(p.url,p),p}class ut{constructor(t){this.swup=void 0,this.pages=new Map,this.swup=t}get size(){return this.pages.size}get all(){const t=new Map;return this.pages.forEach((n,i)=>{t.set(i,d({},n))}),t}has(t){return this.pages.has(this.resolve(t))}get(t){const n=this.pages.get(this.resolve(t));return n&&d({},n)}set(t,n){n=d({},n,{url:t=this.resolve(t)}),this.pages.set(t,n),this.swup.hooks.callSync("cache:set",void 0,{page:n})}update(t,n){t=this.resolve(t);const i=d({},this.get(t),n,{url:t});this.pages.set(t,i)}delete(t){this.pages.delete(this.resolve(t))}clear(){this.pages.clear(),this.swup.hooks.callSync("cache:clear",void 0,void 0)}prune(t){this.pages.forEach((n,i)=>{t(i,n)&&this.delete(i)})}resolve(t){const{url:n}=m.fromUrl(t);return this.swup.resolveUrl(n)}}const N=(e,t=document)=>t.querySelector(e),O=(e,t=document)=>Array.from(t.querySelectorAll(e)),D=()=>new Promise(e=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{e()})})});function W(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}function ht(e,t=[]){return new Promise((n,i)=>{const o=e(...t);W(o)?o.then(n,i):n(o)})}function j(e,t){const n=e?.closest(`[${t}]`);return n!=null&&n.hasAttribute(t)?n?.getAttribute(t)||!0:void 0}class dt{constructor(t){this.swup=void 0,this.swupClasses=["to-","is-changing","is-rendering","is-popstate","is-animating","is-leaving"],this.swup=t}get selectors(){const{scope:t}=this.swup.visit.animation;return t==="containers"?this.swup.visit.containers:t==="html"?["html"]:Array.isArray(t)?t:[]}get selector(){return this.selectors.join(",")}get targets(){return this.selector.trim()?O(this.selector):[]}add(...t){this.targets.forEach(n=>n.classList.add(...t))}remove(...t){this.targets.forEach(n=>n.classList.remove(...t))}clear(){this.targets.forEach(t=>{const n=t.className.split(" ").filter(i=>this.isSwupClass(i));t.classList.remove(...n)})}isSwupClass(t){return this.swupClasses.some(n=>t.startsWith(n))}}class B{constructor(t,n){this.id=void 0,this.state=void 0,this.from=void 0,this.to=void 0,this.containers=void 0,this.animation=void 0,this.trigger=void 0,this.cache=void 0,this.history=void 0,this.scroll=void 0,this.meta=void 0;const{to:i,from:o,hash:s,el:r,event:a}=n;this.id=Math.random(),this.state=1,this.from={url:o??t.location.url,hash:t.location.hash},this.to={url:i,hash:s},this.containers=t.options.containers,this.animation={animate:!0,wait:!1,name:void 0,native:t.options.native,scope:t.options.animationScope,selector:t.options.animationSelector},this.trigger={el:r,event:a},this.cache={read:t.options.cache,write:t.options.cache},this.history={action:"push",popstate:!1,direction:void 0},this.scroll={reset:!0,target:void 0},this.meta={}}advance(t){this.state<t&&(this.state=t)}abort(){this.state=8}get done(){return this.state>=7}}function ft(e){return new B(this,e)}class mt{constructor(t){this.swup=void 0,this.registry=new Map,this.hooks=["animation:out:start","animation:out:await","animation:out:end","animation:in:start","animation:in:await","animation:in:end","animation:skip","cache:clear","cache:set","content:replace","content:scroll","enable","disable","fetch:request","fetch:error","fetch:timeout","history:popstate","link:click","link:self","link:anchor","link:newtab","page:load","page:view","scroll:top","scroll:anchor","visit:start","visit:transition","visit:abort","visit:end"],this.swup=t,this.init()}init(){this.hooks.forEach(t=>this.create(t))}create(t){this.registry.has(t)||this.registry.set(t,new Map)}exists(t){return this.registry.has(t)}get(t){const n=this.registry.get(t);if(n)return n;console.error(`Unknown hook '${t}'`)}clear(){this.registry.forEach(t=>t.clear())}on(t,n,i={}){const o=this.get(t);if(!o)return console.warn(`Hook '${t}' not found.`),()=>{};const s=d({},i,{id:o.size+1,hook:t,handler:n});return o.set(n,s),()=>this.off(t,n)}before(t,n,i={}){return this.on(t,n,d({},i,{before:!0}))}replace(t,n,i={}){return this.on(t,n,d({},i,{replace:!0}))}once(t,n,i={}){return this.on(t,n,d({},i,{once:!0}))}off(t,n){const i=this.get(t);i&&n?i.delete(n)||console.warn(`Handler for hook '${t}' not found.`):i&&i.clear()}async call(t,n,i,o){const[s,r,a]=this.parseCallArgs(t,n,i,o),{before:l,handler:u,after:c}=this.getHandlers(t,a);await this.run(l,s,r);const[h]=await this.run(u,s,r,!0);return await this.run(c,s,r),this.dispatchDomEvent(t,s,r),h}callSync(t,n,i,o){const[s,r,a]=this.parseCallArgs(t,n,i,o),{before:l,handler:u,after:c}=this.getHandlers(t,a);this.runSync(l,s,r);const[h]=this.runSync(u,s,r,!0);return this.runSync(c,s,r),this.dispatchDomEvent(t,s,r),h}parseCallArgs(t,n,i,o){return n instanceof B||typeof n!="object"&&typeof i!="function"?[n,i,o]:[void 0,n,i]}async run(t,n=this.swup.visit,i,o=!1){const s=[];for(const{hook:r,handler:a,defaultHandler:l,once:u}of t)if(n==null||!n.done){u&&this.off(r,a);try{const c=await ht(a,[n,i,l]);s.push(c)}catch(c){if(o)throw c;console.error(`Error in hook '${r}':`,c)}}return s}runSync(t,n=this.swup.visit,i,o=!1){const s=[];for(const{hook:r,handler:a,defaultHandler:l,once:u}of t)if(n==null||!n.done){u&&this.off(r,a);try{const c=a(n,i,l);s.push(c),W(c)&&console.warn(`Swup will not await Promises in handler for synchronous hook '${r}'.`)}catch(c){if(o)throw c;console.error(`Error in hook '${r}':`,c)}}return s}getHandlers(t,n){const i=this.get(t);if(!i)return{found:!1,before:[],handler:[],after:[],replaced:!1};const o=Array.from(i.values()),s=this.sortRegistrations,r=o.filter(({before:h,replace:f})=>h&&!f).sort(s),a=o.filter(({replace:h})=>h).filter(h=>!0).sort(s),l=o.filter(({before:h,replace:f})=>!h&&!f).sort(s),u=a.length>0;let c=[];if(n&&(c=[{id:0,hook:t,handler:n}],u)){const h=a.length-1,{handler:f,once:g}=a[h],v=p=>{const w=a[p-1];return w?(b,S)=>w.handler(b,S,v(p-1)):n};c=[{id:0,hook:t,once:g,handler:f,defaultHandler:v(h)}]}return{found:!0,before:r,handler:c,after:l,replaced:u}}sortRegistrations(t,n){var i,o;return((i=t.priority)!=null?i:0)-((o=n.priority)!=null?o:0)||t.id-n.id||0}dispatchDomEvent(t,n,i){if(n!=null&&n.done)return;const o={hook:t,args:i,visit:n||this.swup.visit};document.dispatchEvent(new CustomEvent("swup:any",{detail:o,bubbles:!0})),document.dispatchEvent(new CustomEvent(`swup:${t}`,{detail:o,bubbles:!0}))}parseName(t){const[n,...i]=t.split(".");return[n,i.reduce((o,s)=>d({},o,{[s]:!0}),{})]}}const pt=e=>{if(e&&e.charAt(0)==="#"&&(e=e.substring(1)),!e)return null;const t=decodeURIComponent(e);let n=document.getElementById(e)||document.getElementById(t)||N(`a[name='${CSS.escape(e)}']`)||N(`a[name='${CSS.escape(t)}']`);return n||e!=="top"||(n=document.body),n},T="transition",F="animation";async function gt({selector:e,elements:t}){if(e===!1&&!t)return;let n=[];if(t)n=Array.from(t);else if(e&&(n=O(e,document.body),!n.length))return void console.warn(`[swup] No elements found matching animationSelector \`${e}\``);const i=n.map(o=>(function(s){const{type:r,timeout:a,propCount:l}=(function(u){const c=window.getComputedStyle(u),h=$(c,`${T}Delay`),f=$(c,`${T}Duration`),g=_(h,f),v=$(c,`${F}Delay`),p=$(c,`${F}Duration`),w=_(v,p),b=Math.max(g,w),S=b>0?g>w?T:F:null;return{type:S,timeout:b,propCount:S?S===T?f.length:p.length:0}})(s);return!(!r||!a)&&new Promise(u=>{const c=`${r}end`,h=performance.now();let f=0;const g=()=>{s.removeEventListener(c,v),u()},v=p=>{p.target===s&&((performance.now()-h)/1e3<p.elapsedTime||++f>=l&&g())};setTimeout(()=>{f<l&&g()},a+1),s.addEventListener(c,v)})})(o));i.filter(Boolean).length>0?await Promise.all(i):e&&console.warn(`[swup] No CSS animation duration defined on elements matching \`${e}\``)}function $(e,t){return(e[t]||"").split(", ")}function _(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,i)=>z(n)+z(e[i])))}function z(e){return 1e3*parseFloat(e)}function vt(e,t={},n={}){if(typeof e!="string")throw new Error("swup.navigate() requires a URL parameter");if(this.shouldIgnoreVisit(e,{el:n.el,event:n.event}))return void window.location.assign(e);const{url:i,hash:o}=m.fromUrl(e),s=this.createVisit(d({},n,{to:i,hash:o}));this.performNavigation(s,t)}async function wt(e,t={}){if(this.navigating){if(this.visit.state>=6)return e.state=2,void(this.onVisitEnd=()=>this.performNavigation(e,t));await this.hooks.call("visit:abort",this.visit,void 0),delete this.visit.to.document,this.visit.state=8}this.navigating=!0,this.visit=e;const{el:n}=e.trigger;t.referrer=t.referrer||this.location.url,t.animate===!1&&(e.animation.animate=!1),e.animation.animate||this.classes.clear();const i=t.history||j(n,"data-swup-history");typeof i=="string"&&["push","replace"].includes(i)&&(e.history.action=i);const o=t.animation||j(n,"data-swup-animation");var s,r;typeof o=="string"&&(e.animation.name=o),e.meta=t.meta||{},typeof t.cache=="object"?(e.cache.read=(s=t.cache.read)!=null?s:e.cache.read,e.cache.write=(r=t.cache.write)!=null?r:e.cache.write):t.cache!==void 0&&(e.cache={read:!!t.cache,write:!!t.cache}),delete t.cache;try{await this.hooks.call("visit:start",e,void 0),e.state=3;const a=this.hooks.call("page:load",e,{options:t},async(u,c)=>{let h;return u.cache.read&&(h=this.cache.get(u.to.url)),c.page=h||await this.fetchPage(u.to.url,c.options),c.cache=!!h,c.page});a.then(({html:u})=>{e.advance(5),e.to.html=u,e.to.document=new DOMParser().parseFromString(u,"text/html")});const l=e.to.url+e.to.hash;if(e.history.popstate||(e.history.action==="replace"||e.to.url===this.location.url?C(l):(this.currentHistoryIndex++,at(l,{index:this.currentHistoryIndex}))),this.location=m.fromUrl(l),e.history.popstate&&this.classes.add("is-popstate"),e.animation.name&&this.classes.add(`to-${R(e.animation.name)}`),e.animation.wait&&await a,e.done||(await this.hooks.call("visit:transition",e,void 0,async()=>{if(!e.animation.animate)return await this.hooks.call("animation:skip",void 0),void await this.renderPage(e,await a);e.advance(4),await this.animatePageOut(e),e.animation.native&&document.startViewTransition?await document.startViewTransition(async()=>await this.renderPage(e,await a)).finished:await this.renderPage(e,await a),await this.animatePageIn(e)}),e.done))return;await this.hooks.call("visit:end",e,void 0,()=>this.classes.clear()),e.state=7,this.navigating=!1,this.onVisitEnd&&(this.onVisitEnd(),this.onVisitEnd=void 0)}catch(a){if(!a||a!=null&&a.aborted)return void(e.state=8);e.state=9,console.error(a),this.options.skipPopStateHandling=()=>(window.location.assign(e.to.url+e.to.hash),!0),window.history.back()}finally{delete e.to.document}}const yt=async function(e){await this.hooks.call("animation:out:start",e,void 0,()=>{this.classes.add("is-changing","is-animating","is-leaving")}),await this.hooks.call("animation:out:await",e,{skip:!1},(t,{skip:n})=>{if(!n)return this.awaitAnimations({selector:t.animation.selector})}),await this.hooks.call("animation:out:end",e,void 0)},St=function(e){var t;const n=e.to.document;if(!n)return!1;const i=((t=n.querySelector("title"))==null?void 0:t.innerText)||"";document.title=i;const o=O('[data-swup-persist]:not([data-swup-persist=""])'),s=e.containers.map(r=>{const a=document.querySelector(r),l=n.querySelector(r);return a&&l?(a.replaceWith(l.cloneNode(!0)),!0):(a||console.warn(`[swup] Container missing in current document: ${r}`),l||console.warn(`[swup] Container missing in incoming document: ${r}`),!1)}).filter(Boolean);return o.forEach(r=>{const a=r.getAttribute("data-swup-persist"),l=N(`[data-swup-persist="${a}"]`);l&&l!==r&&l.replaceWith(r)}),s.length===e.containers.length},kt=function(e){const t={behavior:"auto"},{target:n,reset:i}=e.scroll,o=n??e.to.hash;let s=!1;return o&&(s=this.hooks.callSync("scroll:anchor",e,{hash:o,options:t},(r,{hash:a,options:l})=>{const u=this.getAnchorElement(a);return u&&u.scrollIntoView(l),!!u})),i&&!s&&(s=this.hooks.callSync("scroll:top",e,{options:t},(r,{options:a})=>(window.scrollTo(d({top:0,left:0},a)),!0))),s},bt=async function(e){if(e.done)return;const t=this.hooks.call("animation:in:await",e,{skip:!1},(n,{skip:i})=>{if(!i)return this.awaitAnimations({selector:n.animation.selector})});await D(),await this.hooks.call("animation:in:start",e,void 0,()=>{this.classes.remove("is-animating")}),await t,await this.hooks.call("animation:in:end",e,void 0)},Et=async function(e,t){if(e.done)return;e.advance(6);const{url:n}=t;this.isSameResolvedUrl(E(),n)||(C(n),this.location=m.fromUrl(n),e.to.url=this.location.url,e.to.hash=this.location.hash),await this.hooks.call("content:replace",e,{page:t},(i,{})=>{if(this.classes.remove("is-leaving"),i.animation.animate&&this.classes.add("is-rendering"),!this.replaceContent(i))throw new Error("[swup] Container mismatch, aborting");i.animation.animate&&(this.classes.add("is-changing","is-animating","is-rendering"),i.animation.name&&this.classes.add(`to-${R(i.animation.name)}`))}),await this.hooks.call("content:scroll",e,void 0,()=>this.scrollToContent(e)),await this.hooks.call("page:view",e,{url:this.location.url,title:document.title})},Ct=function(e){var t;if(t=e,!!t?.isSwupPlugin){if(e.swup=this,!e._checkRequirements||e._checkRequirements())return e._beforeMount&&e._beforeMount(),e.mount(),this.plugins.push(e),this.plugins}else console.error("Not a swup plugin instance",e)};function Lt(e){const t=this.findPlugin(e);if(t)return t.unmount(),t._afterUnmount&&t._afterUnmount(),this.plugins=this.plugins.filter(n=>n!==t),this.plugins;console.error("No such plugin",t)}function qt(e){return this.plugins.find(t=>t===e||t.name===e||t.name===`Swup${String(e)}`)}function At(e){if(typeof this.options.resolveUrl!="function")return console.warn("[swup] options.resolveUrl expects a callback function."),e;const t=this.options.resolveUrl(e);return t&&typeof t=="string"?t.startsWith("//")||t.startsWith("http")?(console.warn("[swup] options.resolveUrl needs to return a relative url"),e):t:(console.warn("[swup] options.resolveUrl needs to return a url"),e)}function xt(e,t){return this.resolveUrl(e)===this.resolveUrl(t)}const Tt={animateHistoryBrowsing:!1,animationSelector:'[class*="transition-"]',animationScope:"html",cache:!0,containers:["#swup"],hooks:{},ignoreVisit:(e,{el:t}={})=>!(t==null||!t.closest("[data-no-swup]")),linkSelector:"a[href]",linkToSelf:"scroll",native:!1,plugins:[],resolveUrl:e=>e,requestHeaders:{"X-Requested-With":"swup",Accept:"text/html, application/xhtml+xml"},skipPopStateHandling:e=>{var t;return((t=e.state)==null?void 0:t.source)!=="swup"},timeout:0};class $t{get currentPageUrl(){return this.location.url}constructor(t={}){var n,i;this.version="4.8.2",this.options=void 0,this.defaults=Tt,this.plugins=[],this.visit=void 0,this.cache=void 0,this.hooks=void 0,this.classes=void 0,this.location=m.fromUrl(window.location.href),this.currentHistoryIndex=void 0,this.clickDelegate=void 0,this.navigating=!1,this.onVisitEnd=void 0,this.use=Ct,this.unuse=Lt,this.findPlugin=qt,this.log=()=>{},this.navigate=vt,this.performNavigation=wt,this.createVisit=ft,this.delegateEvent=lt,this.fetchPage=ct,this.awaitAnimations=gt,this.renderPage=Et,this.replaceContent=St,this.animatePageIn=bt,this.animatePageOut=yt,this.scrollToContent=kt,this.getAnchorElement=pt,this.getCurrentUrl=E,this.resolveUrl=At,this.isSameResolvedUrl=xt,this.options=d({},this.defaults,t),this.handleLinkClick=this.handleLinkClick.bind(this),this.handlePopState=this.handlePopState.bind(this),this.cache=new ut(this),this.classes=new dt(this),this.hooks=new mt(this),this.visit=this.createVisit({to:""}),this.currentHistoryIndex=(n=(i=window.history.state)==null?void 0:i.index)!=null?n:1,this.enable()}async enable(){var t;const{linkSelector:n}=this.options;this.clickDelegate=this.delegateEvent(n,"click",this.handleLinkClick),window.addEventListener("popstate",this.handlePopState),this.options.animateHistoryBrowsing&&(window.history.scrollRestoration="manual"),this.options.native=this.options.native&&!!document.startViewTransition,this.options.plugins.forEach(i=>this.use(i));for(const[i,o]of Object.entries(this.options.hooks)){const[s,r]=this.hooks.parseName(i);this.hooks.on(s,o,r)}((t=window.history.state)==null?void 0:t.source)!=="swup"&&C(null,{index:this.currentHistoryIndex}),await D(),await this.hooks.call("enable",void 0,void 0,()=>{const i=document.documentElement;i.classList.add("swup-enabled"),i.classList.toggle("swup-native",this.options.native)})}async destroy(){this.clickDelegate.destroy(),window.removeEventListener("popstate",this.handlePopState),this.cache.clear(),this.options.plugins.forEach(t=>this.unuse(t)),await this.hooks.call("disable",void 0,void 0,()=>{const t=document.documentElement;t.classList.remove("swup-enabled"),t.classList.remove("swup-native")}),this.hooks.clear()}shouldIgnoreVisit(t,{el:n,event:i}={}){const{origin:o,url:s,hash:r}=m.fromUrl(t);return o!==window.location.origin||!(!n||!this.triggerWillOpenNewWindow(n))||!!this.options.ignoreVisit(s+r,{el:n,event:i})}handleLinkClick(t){const n=t.delegateTarget,{href:i,url:o,hash:s}=m.fromElement(n);if(this.shouldIgnoreVisit(i,{el:n,event:t}))return;if(this.navigating&&o===this.visit.to.url)return void t.preventDefault();const r=this.createVisit({to:o,hash:s,el:n,event:t});t.metaKey||t.ctrlKey||t.shiftKey||t.altKey?this.hooks.callSync("link:newtab",r,{href:i}):t.button===0&&this.hooks.callSync("link:click",r,{el:n,event:t},()=>{var a;const l=(a=r.from.url)!=null?a:"";t.preventDefault(),o&&o!==l?this.isSameResolvedUrl(o,l)||this.performNavigation(r):s?this.hooks.callSync("link:anchor",r,{hash:s},()=>{C(o+s),this.scrollToContent(r)}):this.hooks.callSync("link:self",r,void 0,()=>{this.options.linkToSelf==="navigate"?this.performNavigation(r):(C(o),this.scrollToContent(r))})})}handlePopState(t){var n,i,o,s;const r=(n=(i=t.state)==null?void 0:i.url)!=null?n:window.location.href;if(this.options.skipPopStateHandling(t)||this.isSameResolvedUrl(E(),this.location.url))return;const{url:a,hash:l}=m.fromUrl(r),u=this.createVisit({to:a,hash:l,event:t});u.history.popstate=!0;const c=(o=(s=t.state)==null?void 0:s.index)!=null?o:0;c&&c!==this.currentHistoryIndex&&(u.history.direction=c-this.currentHistoryIndex>0?"forwards":"backwards",this.currentHistoryIndex=c),u.animation.animate=!1,u.scroll.reset=!1,u.scroll.target=!1,this.options.animateHistoryBrowsing&&(u.animation.animate=!0,u.scroll.reset=!0),this.hooks.callSync("history:popstate",u,{event:t},()=>{this.performNavigation(u)})}triggerWillOpenNewWindow(t){return!!t.matches('[download], [target="_blank"]')}}let P;function Pt(){return P=new $t({animationSelector:'[class*="transition-"]',containers:["#swup"],cache:!0}),P.hooks.on("page:view",e=>{const t=new CustomEvent("swup:pageView",{detail:{url:e.to.url}});document.dispatchEvent(t)}),P}function Ut(){return P}let U=null,L=null,q=null,k=null,y=!1;function K(){const e=document.querySelector("#clock");if(!e)return;function t(){const n=new Date,i={timeZone:"America/New_York"},o=String(n.toLocaleString("en-US",{...i,hour:"numeric",hour12:!1}).replace(/^24$/,"00")).padStart(2,"0"),s=String(n.toLocaleString("en-US",{...i,minute:"numeric"})).padStart(2,"0"),r=String(n.toLocaleString("en-US",{...i,second:"numeric"})).padStart(2,"0"),a=Intl.DateTimeFormat("en",{timeZone:"America/New_York",timeZoneName:"short"}).formatToParts(n).find(l=>l.type==="timeZoneName")?.value||"EST";e.textContent=`NYC ${o}:${s}:${r} [ ${a} ]`}t(),U=setInterval(t,1e3)}function Ht(){U&&(clearInterval(U),U=null)}function Z(){L=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting?t.target.play().catch(()=>{}):t.target.pause()})},{threshold:.25}),document.querySelectorAll("video").forEach(e=>L.observe(e))}function It(){L&&(L.disconnect(),L=null)}function G(){document.querySelectorAll("img").forEach(e=>{e.complete&&e.naturalHeight>0?e.style.opacity="1":e.addEventListener("load",()=>e.style.opacity="1",{once:!0})}),document.querySelectorAll("video").forEach(e=>{e.readyState>=2?e.style.opacity="1":e.addEventListener("loadeddata",()=>e.style.opacity="1",{once:!0})})}function Vt(e,t){if(y)return;y=!0,t.textContent="-";const n=e.querySelector(".filters-inner");n&&(e.style.maxWidth=n.offsetWidth+"px",setTimeout(()=>{e.style.maxHeight=n.offsetHeight+"px"},150))}function H(e,t){y&&(y=!1,t.textContent="+",e.style.maxHeight="",setTimeout(()=>{e.style.maxWidth=""},150))}function Y(){y&&(k||(k=requestAnimationFrame(()=>{k=null;const e=document.querySelector(".filters-accordion"),t=document.querySelector(".filter-button");e&&t&&H(e,t)})))}function J(){clearTimeout(q),q=setTimeout(()=>{const e=document.querySelector(".filters-accordion"),t=document.querySelector(".filter-button");e&&t&&H(e,t)},4e3)}function X(){clearTimeout(q)}function Q(){const e=document.querySelector(".filters-accordion"),t=document.querySelector(".filter-button");!e||!t||(y?H(e,t):Vt(e,t))}function tt(){const e=document.querySelector(".filters"),t=document.querySelector(".filter-button");!e||!t||(t.addEventListener("click",Q),e.addEventListener("mouseleave",J),e.addEventListener("mouseenter",X),window.addEventListener("scroll",Y,{passive:!0}))}function Nt(){clearTimeout(q),k&&cancelAnimationFrame(k),q=null,k=null,y=!1;const e=document.querySelector(".filters"),t=document.querySelector(".filter-button");t&&(t.removeEventListener("click",Q),t.textContent="+"),e&&(e.removeEventListener("mouseleave",J),e.removeEventListener("mouseenter",X)),window.removeEventListener("scroll",Y);const n=document.querySelector(".filters-accordion");n&&(n.style.maxWidth="",n.style.maxHeight="")}function Ot(){K(),Z(),G(),tt()}function Ft(){Ht(),It(),Nt(),K(),Z(),G(),tt()}function Mt(){if(!y)return;const e=document.querySelector(".filters-accordion"),t=document.querySelector(".filter-button");e&&t&&H(e,t)}let A=null;function et(e){const t=String(Math.floor(e/60)).padStart(2,"0"),n=String(Math.floor(e)%60).padStart(2,"0"),i=String(Math.floor(e%1*1e3)).padStart(3,"0");return`${t}:${n}:${i}`}function Rt(e){e.style.position="relative",e.style.opacity="1";const t=document.createElement("span");t.style.opacity="0.35",t.setAttribute("data-total-base","");const n=document.createElement("span");n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.overflow="hidden",n.style.whiteSpace="nowrap",n.style.width="0%",n.setAttribute("data-total-overlay",""),e.textContent="",e.appendChild(t),e.appendChild(n)}function nt(){document.querySelectorAll(".selected-item").forEach(e=>{const t=e.querySelector("[video-total]"),n=e.querySelector("[video-progress]"),i=e.querySelector("video");if(i){if(t&&!t.classList.contains("w-condition-invisible")){t.querySelector("[data-total-base]")||Rt(t);const o=et(i.duration||0),s=t.querySelector("[data-total-base]"),r=t.querySelector("[data-total-overlay]");s.textContent=o,r.textContent=o;const a=i.duration?i.currentTime/i.duration*100:0;r.style.width=a+"%"}n&&!n.classList.contains("w-condition-invisible")&&(n.textContent=et(i.currentTime||0))}}),A=requestAnimationFrame(nt)}function it(e){const t=e.currentTarget.closest(".selected-item");t&&t.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}function Dt(){document.querySelectorAll(".selected-titles-inner").forEach(e=>{e.addEventListener("click",it)}),A=requestAnimationFrame(nt)}function Wt(){document.querySelectorAll(".selected-titles-inner").forEach(e=>{e.removeEventListener("click",it)}),A&&(cancelAnimationFrame(A),A=null)}const ot={init:Dt,cleanup:Wt},jt={"/":ot,"/home":ot};function M(){const e=window.location.pathname;return jt[e]||null}function Bt(){const e=window.location.pathname;document.querySelectorAll(".w--current").forEach(t=>t.classList.remove("w--current")),document.querySelectorAll(`a[href="${e}"], a[href="${e}/"]`).forEach(t=>t.classList.add("w--current"))}function _t(){Ft(),Bt();const e=M();e?.init&&e.init()}function zt(){Mt();const e=M();e?.cleanup&&e.cleanup()}document.addEventListener("DOMContentLoaded",()=>{Ot(),Pt();const e=Ut();e.hooks.on("content:replace",()=>_t()),e.hooks.on("visit:start",()=>zt());const t=M();t?.init&&t.init()})})();
